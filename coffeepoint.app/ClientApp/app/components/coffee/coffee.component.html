<div [class.disabled]="api.performsRequest">
    <h1>Make your order</h1>
    <div *ngIf="!screen">Loading status...</div>
    <div *ngIf="screen" [ngSwitch]="state">
        <div *ngSwitchCase="ScreenState.CoffeeReady">
            <h3>Here is your {{coffee}}</h3>
            <button (click)="goBack()">Go back</button>
        </div>
        <div *ngSwitchCase="ScreenState.MoneyBack">
            <h3>Here is your money</h3>
            <div *ngIf="!gotBackMoney.length">No money :(</div>
            <div *ngFor="let entry of gotBackMoney">
                {{entry.count}} x {{entry.name}}
            </div>
            <button (click)="goBack()">Go back</button>
        </div>
        <div *ngSwitchCase="ScreenState.Main" class='container-fluid'>
            <div class='row'>
                <div class='col-sm-6'>
                    <h3>Pick your coffee</h3>
                    <div *ngFor="let coffee of screen.coffees">
                        <h4 [class.unavailable]="!coffee.isAvailable">{{coffee.name}} - {{coffee.cost}} RUB</h4>
                        <span *ngIf="!coffee.isAvailable">Cannot be ordered for now</span>
                        <span *ngIf="!coffee.isHaveExchange">No exchange, please enter exact amount</span>
                        <button *ngIf="coffee.isAvailable" (click)="order(coffee)" [disabled]="!coffee.isEnoughMoney || !coffee.isHaveExchange">Order</button>
                        <hr/>
                    </div>
                </div>
                <div class='col-sm-6'>
                    <h3>Current amount: {{screen.currentAmount}}. We receive following money:</h3>
                    <div *ngFor="let cashItem of screen.cashItems">
                        <h4>{{cashItem.name}}</h4>
                        <button (click)="put(cashItem)">Put</button>
                        <hr />
                    </div>
                    <button (click)="getMyMoneyBack()">Get money back</button>
                </div>
            </div>
        </div>
    </div>

</div>